!function n(e,t,r){function o(u,i){if(!t[u]){if(!e[u]){var s="function"==typeof require&&require;if(!i&&s)return s(u,!0);if(a)return a(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[u]={exports:{}};e[u][0].call(l.exports,function(n){var t=e[u][1][n];return o(t?t:n)},l,l.exports,n,e,t,r)}return t[u].exports}for(var a="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/Main.js":[function(n,e,t){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),u=n("./views/Nav"),i=r(u),s=n("./views/Content"),c=r(s),l=n("./ctrl/Controller"),f=r(l),d=n("./model/DataManager"),v=r(d),w=function(){function n(){o(this,n),console.log("Entry Point"),$(this.init.bind(this))}return a(n,[{key:"init",value:function(){console.log("Dom ready"),this.nav=new i["default"],this.content=new c["default"],this.ctrl=new f["default"],$(window).one("data_loaded",this.start.bind(this)),v["default"].load()}},{key:"start",value:function(){console.log("Building"),this.nav.build(v["default"].getNavData())}}]),n}();new w},{"./ctrl/Controller":"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/ctrl/Controller.js","./model/DataManager":"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/model/DataManager.js","./views/Content":"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/views/Content.js","./views/Nav":"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/views/Nav.js"}],"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/ctrl/Controller.js":[function(n,e,t){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n("../model/DataManager"),i=r(u),s=function(){function n(){o(this,n),$(window).on("new_content_request",this.displayNewContent.bind(this))}return a(n,[{key:"displayNewContent",value:function(n,e){console.log("Controller :: Request for new content");var t=i["default"].getPic(e);$(window).trigger("display_new_content",t)}}]),n}();t["default"]=s},{"../model/DataManager":"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/model/DataManager.js"}],"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/model/DataManager.js":[function(n,e,t){"use strict";function r(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function n(){r(this,n)}return o(n,null,[{key:"load",value:function(){$.ajax({type:"GET",dataType:"json",url:"data/data.json",success:function(e){n.data=e,$(window).trigger("data_loaded")},error:function(n){console.error("Data error: ",n)}})}},{key:"getNavData",value:function(){return n.data.nav}},{key:"getPic",value:function(e){return console.log("DataManager :: get Pic :: ",n.data.pics[e]),n.data.pics[e]}}]),n}();t["default"]=a},{}],"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/views/Content.js":[function(n,e,t){"use strict";function r(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function n(){r(this,n),console.log("Content"),this.view=$("section.content"),$(window).on("display_new_content",this.onDisplayNewContent.bind(this))}return o(n,[{key:"onDisplayNewContent",value:function(n,e){console.log("Content :: Display new content "),this.view[0].style.backgroundImage="url("+e+")"}}]),n}();t["default"]=a},{}],"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/views/Nav.js":[function(n,e,t){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n("./NavItem"),i=r(u),s=function(){function n(){o(this,n),this.view=$("nav")}return a(n,[{key:"build",value:function(n){var e=this;$.each(n,function(n,t){new i["default"](e.view,t,n)});var t=this.view.find(".nav-item");t.on("click",this.onClickNavItem.bind(this))}},{key:"onClickNavItem",value:function(n){var e=n.target.getAttribute("data-id");console.log("----"),console.log("Nav :: Click on item #",e),$(window).trigger("new_content_request",e)}}]),n}();t["default"]=s},{"./NavItem":"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/views/NavItem.js"}],"/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/views/NavItem.js":[function(n,e,t){"use strict";function r(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function n(e,t,o){r(this,n),e.find("ul").append('<li class="nav-item n'+o+'" data-id="'+o+'">'+t.label+"</li>"),this.view=e.find("ul .nav-item.n"+o),this.view.on("mouseover",this.onMouseOver.bind(this)),this.view.on("mouseout",this.onMouseOut.bind(this))}return o(n,[{key:"onMouseOver",value:function(){this.view[0].style.backgroundColor="red"}},{key:"onMouseOut",value:function(){this.view[0].style.backgroundColor="transparent"}}]),n}();t["default"]=a},{}]},{},["/Users/PRASS/Documents/Akufen/lunch-and-learn/MVC-01-2016/src/js/custom/Main.js"]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC5qcyIsInNyYy9qcy9jdXN0b20vTWFpbi5qcyIsInNyYy9qcy9jdXN0b20vY3RybC9Db250cm9sbGVyLmpzIiwic3JjL2pzL2N1c3RvbS9tb2RlbC9EYXRhTWFuYWdlci5qcyIsInNyYy9qcy9jdXN0b20vdmlld3MvQ29udGVudC5qcyIsInNyYy9qcy9jdXN0b20vdmlld3MvTmF2LmpzIiwic3JjL2pzL2N1c3RvbS92aWV3cy9OYXZJdGVtLmpzIl0sIm5hbWVzIjpbImUiLCJ0IiwibiIsInIiLCJzIiwibyIsInUiLCJhIiwicmVxdWlyZSIsImkiLCJmIiwiRXJyb3IiLCJjb2RlIiwibCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiL1VzZXJzL1BSQVNTL0RvY3VtZW50cy9Ba3VmZW4vbHVuY2gtYW5kLWxlYXJuL01WQy0wMS0yMDE2L3NyYy9qcy9jdXN0b20vTWFpbi5qcyIsIm1vZHVsZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJfTmF2IiwiX05hdjIiLCJfQ29udGVudCIsIl9Db250ZW50MiIsIl9Db250cm9sbGVyIiwiX0NvbnRyb2xsZXIyIiwiX0RhdGFNYW5hZ2VyIiwiX0RhdGFNYW5hZ2VyMiIsIk1haW4iLCJ0aGlzIiwiY29uc29sZSIsImxvZyIsIiQiLCJpbml0IiwiYmluZCIsInZhbHVlIiwibmF2IiwiY29udGVudCIsImN0cmwiLCJ3aW5kb3ciLCJvbmUiLCJzdGFydCIsImxvYWQiLCJidWlsZCIsImdldE5hdkRhdGEiLCIuL2N0cmwvQ29udHJvbGxlciIsIi4vbW9kZWwvRGF0YU1hbmFnZXIiLCIuL3ZpZXdzL0NvbnRlbnQiLCIuL3ZpZXdzL05hdiIsIi9Vc2Vycy9QUkFTUy9Eb2N1bWVudHMvQWt1ZmVuL2x1bmNoLWFuZC1sZWFybi9NVkMtMDEtMjAxNi9zcmMvanMvY3VzdG9tL2N0cmwvQ29udHJvbGxlci5qcyIsIkNvbnRyb2xsZXIiLCJvbiIsImRpc3BsYXlOZXdDb250ZW50IiwiZXZlbnQiLCJ0YXJnZXRJRCIsInBpY1VybCIsImdldFBpYyIsInRyaWdnZXIiLCIuLi9tb2RlbC9EYXRhTWFuYWdlciIsIi9Vc2Vycy9QUkFTUy9Eb2N1bWVudHMvQWt1ZmVuL2x1bmNoLWFuZC1sZWFybi9NVkMtMDEtMjAxNi9zcmMvanMvY3VzdG9tL21vZGVsL0RhdGFNYW5hZ2VyLmpzIiwiRGF0YU1hbmFnZXIiLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwidXJsIiwic3VjY2VzcyIsInJlc3BvbnNlIiwiZGF0YSIsImVycm9yIiwiZXJyIiwiaXRlbUlEIiwicGljcyIsIi9Vc2Vycy9QUkFTUy9Eb2N1bWVudHMvQWt1ZmVuL2x1bmNoLWFuZC1sZWFybi9NVkMtMDEtMjAxNi9zcmMvanMvY3VzdG9tL3ZpZXdzL0NvbnRlbnQuanMiLCJDb250ZW50IiwidmlldyIsIm9uRGlzcGxheU5ld0NvbnRlbnQiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsIi9Vc2Vycy9QUkFTUy9Eb2N1bWVudHMvQWt1ZmVuL2x1bmNoLWFuZC1sZWFybi9NVkMtMDEtMjAxNi9zcmMvanMvY3VzdG9tL3ZpZXdzL05hdi5qcyIsIl9OYXZJdGVtIiwiX05hdkl0ZW0yIiwiTmF2IiwibmF2RGF0YSIsIl90aGlzIiwiZWFjaCIsIm5hdkl0ZW1zIiwiZmluZCIsIm9uQ2xpY2tOYXZJdGVtIiwiZ2V0QXR0cmlidXRlIiwiLi9OYXZJdGVtIiwiL1VzZXJzL1BSQVNTL0RvY3VtZW50cy9Ba3VmZW4vbHVuY2gtYW5kLWxlYXJuL01WQy0wMS0yMDE2L3NyYy9qcy9jdXN0b20vdmlld3MvTmF2SXRlbS5qcyIsIk5hdkl0ZW0iLCJwYXJlbnRWaWV3IiwiaWQiLCJhcHBlbmQiLCJsYWJlbCIsIm9uTW91c2VPdmVyIiwib25Nb3VzZU91dCIsImJhY2tncm91bmRDb2xvciJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBQUEsR0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsR0FBQUUsR0FBQSxrQkFBQUMsVUFBQUEsT0FBQSxLQUFBRixHQUFBQyxFQUFBLE1BQUFBLEdBQUFGLEdBQUEsRUFBQSxJQUFBSSxFQUFBLE1BQUFBLEdBQUFKLEdBQUEsRUFBQSxJQUFBSyxHQUFBLEdBQUFDLE9BQUEsdUJBQUFOLEVBQUEsSUFBQSxNQUFBSyxHQUFBRSxLQUFBLG1CQUFBRixFQUFBLEdBQUFHLEdBQUFYLEVBQUFHLElBQUFTLFdBQUFiLEdBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLEdBQUFFLEdBQUFELEVBQUFJLEdBQUEsR0FBQUwsRUFBQSxPQUFBSSxHQUFBRixFQUFBQSxFQUFBRixJQUFBYSxFQUFBQSxFQUFBQyxRQUFBZCxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLE1BQUFELEdBQUFHLEdBQUFTLFFBQUEsSUFBQSxHQUFBTCxHQUFBLGtCQUFBRCxVQUFBQSxRQUFBSCxFQUFBLEVBQUFBLEVBQUFGLEVBQUFhLE9BQUFYLElBQUFELEVBQUFELEVBQUFFLEdBQUEsT0FBQUQsS0FBQWEsbUZBQUEsU0FBQVQsRUFBQVUsRUFBQUosR0NDQSxZQW9CQSxTQUFTSyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQUV2RixRQUFTRyxHQUFn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QUFZOUQsS0FBS0wsT0FDaERBLEtBQUs2QyxLQUFLdkIsR0FBRyxXQUFZdEIsS0FBS29FLFdBQVcvRCxLQUFLTCxPTmdTL0MsTUFiQXZCLEdNNVJLcUYsSU42UkozRSxJQUFLLGNBQ0xtQixNQUFPLFdNaFJQTixLQUFLNkMsS0FBSyxHQUFHRSxNQUFNc0IsZ0JBQWtCLFNOcVJyQ2xGLElBQUssYUFDTG1CLE1BQU8sV01qUlBOLEtBQUs2QyxLQUFLLEdBQUdFLE1BQU1zQixnQkFBa0Isa0JBbkJqQ1AsSU40U05sRyxHQUFBQSxXTXBSZWtHLFlOc1JKIiwiZmlsZSI6ImJ1aWxkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7XCIvVXNlcnMvUFJBU1MvRG9jdW1lbnRzL0FrdWZlbi9sdW5jaC1hbmQtbGVhcm4vTVZDLTAxLTIwMTYvc3JjL2pzL2N1c3RvbS9NYWluLmpzXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX05hdiA9IHJlcXVpcmUoJy4vdmlld3MvTmF2Jyk7XG5cbnZhciBfTmF2MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05hdik7XG5cbnZhciBfQ29udGVudCA9IHJlcXVpcmUoJy4vdmlld3MvQ29udGVudCcpO1xuXG52YXIgX0NvbnRlbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udGVudCk7XG5cbnZhciBfQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vY3RybC9Db250cm9sbGVyJyk7XG5cbnZhciBfQ29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db250cm9sbGVyKTtcblxudmFyIF9EYXRhTWFuYWdlciA9IHJlcXVpcmUoJy4vbW9kZWwvRGF0YU1hbmFnZXInKTtcblxudmFyIF9EYXRhTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRhTWFuYWdlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qKlxuICogTFVOQ0ggQU5EIExFQVJOIC0gTVZDXG4gKiovXG5cbnZhciBNYWluID0gZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBNYWluKCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluKTtcblxuXHRcdGNvbnNvbGUubG9nKFwiRW50cnkgUG9pbnRcIik7XG5cblx0XHQkKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcblx0XHQvL2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIHRoaXMuaW5pdC5iaW5kKHRoaXMpLCBmYWxzZSk7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoTWFpbiwgW3tcblx0XHRrZXk6ICdpbml0Jyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcblxuXHRcdFx0Y29uc29sZS5sb2coXCJEb20gcmVhZHlcIik7XG5cblx0XHRcdC8vIDEpIENyZWF0ZSB2aWV3c1xuXHRcdFx0dGhpcy5uYXYgPSBuZXcgX05hdjIuZGVmYXVsdCgpO1xuXHRcdFx0dGhpcy5jb250ZW50ID0gbmV3IF9Db250ZW50Mi5kZWZhdWx0KCk7XG5cblx0XHRcdC8vIDIpIENyZWF0ZSBDb250cm9sbGVyXG5cdFx0XHR0aGlzLmN0cmwgPSBuZXcgX0NvbnRyb2xsZXIyLmRlZmF1bHQoKTtcblxuXHRcdFx0Ly8gMykgR2V0IERhdGEgKG1vZGVsKVxuXHRcdFx0JCh3aW5kb3cpLm9uZSgnZGF0YV9sb2FkZWQnLCB0aGlzLnN0YXJ0LmJpbmQodGhpcykpO1xuXHRcdFx0X0RhdGFNYW5hZ2VyMi5kZWZhdWx0LmxvYWQoKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdzdGFydCcsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuXG5cdFx0XHRjb25zb2xlLmxvZygnQnVpbGRpbmcnKTtcblxuXHRcdFx0dGhpcy5uYXYuYnVpbGQoX0RhdGFNYW5hZ2VyMi5kZWZhdWx0LmdldE5hdkRhdGEoKSk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIE1haW47XG59KCk7XG5cbnZhciBhcHAgPSBuZXcgTWFpbigpOyAvLyBvciBuZXcgTWFpbigpO1xuXG59LHtcIi4vY3RybC9Db250cm9sbGVyXCI6XCIvVXNlcnMvUFJBU1MvRG9jdW1lbnRzL0FrdWZlbi9sdW5jaC1hbmQtbGVhcm4vTVZDLTAxLTIwMTYvc3JjL2pzL2N1c3RvbS9jdHJsL0NvbnRyb2xsZXIuanNcIixcIi4vbW9kZWwvRGF0YU1hbmFnZXJcIjpcIi9Vc2Vycy9QUkFTUy9Eb2N1bWVudHMvQWt1ZmVuL2x1bmNoLWFuZC1sZWFybi9NVkMtMDEtMjAxNi9zcmMvanMvY3VzdG9tL21vZGVsL0RhdGFNYW5hZ2VyLmpzXCIsXCIuL3ZpZXdzL0NvbnRlbnRcIjpcIi9Vc2Vycy9QUkFTUy9Eb2N1bWVudHMvQWt1ZmVuL2x1bmNoLWFuZC1sZWFybi9NVkMtMDEtMjAxNi9zcmMvanMvY3VzdG9tL3ZpZXdzL0NvbnRlbnQuanNcIixcIi4vdmlld3MvTmF2XCI6XCIvVXNlcnMvUFJBU1MvRG9jdW1lbnRzL0FrdWZlbi9sdW5jaC1hbmQtbGVhcm4vTVZDLTAxLTIwMTYvc3JjL2pzL2N1c3RvbS92aWV3cy9OYXYuanNcIn1dLFwiL1VzZXJzL1BSQVNTL0RvY3VtZW50cy9Ba3VmZW4vbHVuY2gtYW5kLWxlYXJuL01WQy0wMS0yMDE2L3NyYy9qcy9jdXN0b20vY3RybC9Db250cm9sbGVyLmpzXCI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX0RhdGFNYW5hZ2VyID0gcmVxdWlyZSgnLi4vbW9kZWwvRGF0YU1hbmFnZXInKTtcblxudmFyIF9EYXRhTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRhTWFuYWdlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBDb250cm9sbGVyKCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb250cm9sbGVyKTtcblxuXHRcdCQod2luZG93KS5vbignbmV3X2NvbnRlbnRfcmVxdWVzdCcsIHRoaXMuZGlzcGxheU5ld0NvbnRlbnQuYmluZCh0aGlzKSk7XG5cdH1cblxuXHRfY3JlYXRlQ2xhc3MoQ29udHJvbGxlciwgW3tcblx0XHRrZXk6ICdkaXNwbGF5TmV3Q29udGVudCcsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGRpc3BsYXlOZXdDb250ZW50KGV2ZW50LCB0YXJnZXRJRCkge1xuXG5cdFx0XHRjb25zb2xlLmxvZygnQ29udHJvbGxlciA6OiBSZXF1ZXN0IGZvciBuZXcgY29udGVudCcpO1xuXG5cdFx0XHR2YXIgcGljVXJsID0gX0RhdGFNYW5hZ2VyMi5kZWZhdWx0LmdldFBpYyh0YXJnZXRJRCk7XG5cblx0XHRcdCQod2luZG93KS50cmlnZ2VyKCdkaXNwbGF5X25ld19jb250ZW50JywgcGljVXJsKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gQ29udHJvbGxlcjtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ29udHJvbGxlcjtcblxufSx7XCIuLi9tb2RlbC9EYXRhTWFuYWdlclwiOlwiL1VzZXJzL1BSQVNTL0RvY3VtZW50cy9Ba3VmZW4vbHVuY2gtYW5kLWxlYXJuL01WQy0wMS0yMDE2L3NyYy9qcy9jdXN0b20vbW9kZWwvRGF0YU1hbmFnZXIuanNcIn1dLFwiL1VzZXJzL1BSQVNTL0RvY3VtZW50cy9Ba3VmZW4vbHVuY2gtYW5kLWxlYXJuL01WQy0wMS0yMDE2L3NyYy9qcy9jdXN0b20vbW9kZWwvRGF0YU1hbmFnZXIuanNcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIERhdGFNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBEYXRhTWFuYWdlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0YU1hbmFnZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERhdGFNYW5hZ2VyLCBudWxsLCBbe1xuICAgIGtleTogXCJsb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWQoKSB7XG5cbiAgICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgdXJsOiAnZGF0YS9kYXRhLmpzb24nLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG5cbiAgICAgICAgICBEYXRhTWFuYWdlci5kYXRhID0gcmVzcG9uc2U7XG5cbiAgICAgICAgICAkKHdpbmRvdykudHJpZ2dlcignZGF0YV9sb2FkZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJEYXRhIGVycm9yOiBcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldE5hdkRhdGFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TmF2RGF0YSgpIHtcblxuICAgICAgcmV0dXJuIERhdGFNYW5hZ2VyLmRhdGEubmF2O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRQaWNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGljKGl0ZW1JRCkge1xuXG4gICAgICBjb25zb2xlLmxvZygnRGF0YU1hbmFnZXIgOjogZ2V0IFBpYyA6OiAnLCBEYXRhTWFuYWdlci5kYXRhLnBpY3NbaXRlbUlEXSk7XG5cbiAgICAgIHJldHVybiBEYXRhTWFuYWdlci5kYXRhLnBpY3NbaXRlbUlEXTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRGF0YU1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYW5hZ2VyO1xuXG59LHt9XSxcIi9Vc2Vycy9QUkFTUy9Eb2N1bWVudHMvQWt1ZmVuL2x1bmNoLWFuZC1sZWFybi9NVkMtMDEtMjAxNi9zcmMvanMvY3VzdG9tL3ZpZXdzL0NvbnRlbnQuanNcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBDb250ZW50KCkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb250ZW50KTtcblxuXHRcdGNvbnNvbGUubG9nKCdDb250ZW50Jyk7XG5cblx0XHR0aGlzLnZpZXcgPSAkKCdzZWN0aW9uLmNvbnRlbnQnKTtcblxuXHRcdCQod2luZG93KS5vbignZGlzcGxheV9uZXdfY29udGVudCcsIHRoaXMub25EaXNwbGF5TmV3Q29udGVudC5iaW5kKHRoaXMpKTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhDb250ZW50LCBbe1xuXHRcdGtleTogJ29uRGlzcGxheU5ld0NvbnRlbnQnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvbkRpc3BsYXlOZXdDb250ZW50KGV2ZW50LCBwaWNVcmwpIHtcblxuXHRcdFx0Y29uc29sZS5sb2coJ0NvbnRlbnQgOjogRGlzcGxheSBuZXcgY29udGVudCAnKTtcblxuXHRcdFx0dGhpcy52aWV3WzBdLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIHBpY1VybCArICcpJztcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gQ29udGVudDtcbn0oKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQ29udGVudDtcblxufSx7fV0sXCIvVXNlcnMvUFJBU1MvRG9jdW1lbnRzL0FrdWZlbi9sdW5jaC1hbmQtbGVhcm4vTVZDLTAxLTIwMTYvc3JjL2pzL2N1c3RvbS92aWV3cy9OYXYuanNcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfTmF2SXRlbSA9IHJlcXVpcmUoJy4vTmF2SXRlbScpO1xuXG52YXIgX05hdkl0ZW0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTmF2SXRlbSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBOYXYgPSBmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIE5hdigpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmF2KTtcblxuXHRcdHRoaXMudmlldyA9ICQoJ25hdicpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKE5hdiwgW3tcblx0XHRrZXk6ICdidWlsZCcsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGJ1aWxkKG5hdkRhdGEpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cblx0XHRcdCQuZWFjaChuYXZEYXRhLCBmdW5jdGlvbiAoaSwgZGF0YSkge1xuXG5cdFx0XHRcdHZhciBpdGVtID0gbmV3IF9OYXZJdGVtMi5kZWZhdWx0KF90aGlzLnZpZXcsIGRhdGEsIGkpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHZhciBuYXZJdGVtcyA9IHRoaXMudmlldy5maW5kKCcubmF2LWl0ZW0nKTtcblxuXHRcdFx0bmF2SXRlbXMub24oJ2NsaWNrJywgdGhpcy5vbkNsaWNrTmF2SXRlbS5iaW5kKHRoaXMpKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdvbkNsaWNrTmF2SXRlbScsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tOYXZJdGVtKGV2ZW50KSB7XG5cblx0XHRcdHZhciB0YXJnZXRJRCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcblxuXHRcdFx0Y29uc29sZS5sb2coJy0tLS0nKTtcblx0XHRcdGNvbnNvbGUubG9nKCdOYXYgOjogQ2xpY2sgb24gaXRlbSAjJywgdGFyZ2V0SUQpO1xuXG5cdFx0XHQkKHdpbmRvdykudHJpZ2dlcignbmV3X2NvbnRlbnRfcmVxdWVzdCcsIHRhcmdldElEKTtcblx0XHR9XG5cdH1dKTtcblxuXHRyZXR1cm4gTmF2O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOYXY7XG5cbn0se1wiLi9OYXZJdGVtXCI6XCIvVXNlcnMvUFJBU1MvRG9jdW1lbnRzL0FrdWZlbi9sdW5jaC1hbmQtbGVhcm4vTVZDLTAxLTIwMTYvc3JjL2pzL2N1c3RvbS92aWV3cy9OYXZJdGVtLmpzXCJ9XSxcIi9Vc2Vycy9QUkFTUy9Eb2N1bWVudHMvQWt1ZmVuL2x1bmNoLWFuZC1sZWFybi9NVkMtMDEtMjAxNi9zcmMvanMvY3VzdG9tL3ZpZXdzL05hdkl0ZW0uanNcIjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBOYXZJdGVtID0gZnVuY3Rpb24gKCkge1xuXHRmdW5jdGlvbiBOYXZJdGVtKHBhcmVudFZpZXcsIGRhdGEsIGlkKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5hdkl0ZW0pO1xuXG5cdFx0cGFyZW50Vmlldy5maW5kKCd1bCcpLmFwcGVuZCgnPGxpIGNsYXNzPVwibmF2LWl0ZW0gbicgKyBpZCArICdcIiBkYXRhLWlkPVwiJyArIGlkICsgJ1wiPicgKyBkYXRhLmxhYmVsICsgJzwvbGk+Jyk7XG5cblx0XHR0aGlzLnZpZXcgPSBwYXJlbnRWaWV3LmZpbmQoJ3VsIC5uYXYtaXRlbS5uJyArIGlkKTtcblxuXHRcdHRoaXMudmlldy5vbignbW91c2VvdmVyJywgdGhpcy5vbk1vdXNlT3Zlci5iaW5kKHRoaXMpKTtcblx0XHR0aGlzLnZpZXcub24oJ21vdXNlb3V0JywgdGhpcy5vbk1vdXNlT3V0LmJpbmQodGhpcykpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKE5hdkl0ZW0sIFt7XG5cdFx0a2V5OiAnb25Nb3VzZU92ZXInLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlT3ZlcigpIHtcblxuXHRcdFx0dGhpcy52aWV3WzBdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAnb25Nb3VzZU91dCcsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIG9uTW91c2VPdXQoKSB7XG5cdFx0XHR0aGlzLnZpZXdbMF0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBOYXZJdGVtO1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBOYXZJdGVtO1xuXG59LHt9XX0se30sW1wiL1VzZXJzL1BSQVNTL0RvY3VtZW50cy9Ba3VmZW4vbHVuY2gtYW5kLWxlYXJuL01WQy0wMS0yMDE2L3NyYy9qcy9jdXN0b20vTWFpbi5qc1wiXSlcblxuIiwiaW1wb3J0IE5hdiBmcm9tICcuL3ZpZXdzL05hdic7XG5pbXBvcnQgQ29udGVudCBmcm9tICcuL3ZpZXdzL0NvbnRlbnQnO1xuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsL0NvbnRyb2xsZXInO1xuaW1wb3J0IERhdGFNYW5hZ2VyIGZyb20gJy4vbW9kZWwvRGF0YU1hbmFnZXInO1xuXG4vKipcbiAqIExVTkNIIEFORCBMRUFSTiAtIE1WQ1xuICoqL1xuXG5jbGFzcyBNYWluIHtcblxuXHRjb25zdHJ1Y3RvciAoKSB7XG5cblx0XHRjb25zb2xlLmxvZyhcIkVudHJ5IFBvaW50XCIpO1xuXG5cdFx0JCggdGhpcy5pbml0LmJpbmQodGhpcykgKTtcblx0XHQvL2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIHRoaXMuaW5pdC5iaW5kKHRoaXMpLCBmYWxzZSk7XG5cblx0fVxuXG5cblx0aW5pdCAoKSB7XG5cblx0XHRjb25zb2xlLmxvZyhcIkRvbSByZWFkeVwiKTtcblxuXHRcdC8vIDEpIENyZWF0ZSB2aWV3c1xuXHRcdHRoaXMubmF2ID0gbmV3IE5hdigpO1xuXHRcdHRoaXMuY29udGVudCA9IG5ldyBDb250ZW50KCk7XG5cblx0XHQvLyAyKSBDcmVhdGUgQ29udHJvbGxlclxuXHRcdHRoaXMuY3RybCA9IG5ldyBDb250cm9sbGVyKCk7XG5cblx0XHQvLyAzKSBHZXQgRGF0YSAobW9kZWwpXG5cdFx0JCh3aW5kb3cpLm9uZSgnZGF0YV9sb2FkZWQnLCB0aGlzLnN0YXJ0LmJpbmQodGhpcykgKTtcblx0XHREYXRhTWFuYWdlci5sb2FkKCk7XG5cdFx0XG5cdH1cblxuXHRzdGFydCAoKSB7XG5cblx0XHRjb25zb2xlLmxvZygnQnVpbGRpbmcnKTtcblxuXHRcdHRoaXMubmF2LmJ1aWxkKCBEYXRhTWFuYWdlci5nZXROYXZEYXRhKCkgKTtcblxuXHR9XG59XG5cbnZhciBhcHAgPSBuZXcgTWFpbigpOyAvLyBvciBuZXcgTWFpbigpOyIsImltcG9ydCBEYXRhTWFuYWdlciBmcm9tICcuLi9tb2RlbC9EYXRhTWFuYWdlcic7XG5cbmNsYXNzIENvbnRyb2xsZXIge1xuXHRcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHRcdCQod2luZG93KS5vbignbmV3X2NvbnRlbnRfcmVxdWVzdCcsIHRoaXMuZGlzcGxheU5ld0NvbnRlbnQuYmluZCh0aGlzKSApO1xuXHR9XG5cblxuXHRkaXNwbGF5TmV3Q29udGVudCAoZXZlbnQsIHRhcmdldElEICkge1xuXG5cdFx0Y29uc29sZS5sb2coJ0NvbnRyb2xsZXIgOjogUmVxdWVzdCBmb3IgbmV3IGNvbnRlbnQnKTtcblxuXHRcdGNvbnN0IHBpY1VybCA9IERhdGFNYW5hZ2VyLmdldFBpYyh0YXJnZXRJRCk7XG5cblx0XHQkKHdpbmRvdykudHJpZ2dlcignZGlzcGxheV9uZXdfY29udGVudCcsICBwaWNVcmwpO1xuXG5cdH1cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7IiwiY2xhc3MgRGF0YU1hbmFnZXIge1xuXG5cblx0c3RhdGljIGxvYWQoKSB7XG5cblx0XHQkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZSAgICAgICAgOiBcIkdFVFwiLFxuICAgICAgICAgICAgZGF0YVR5cGUgICAgOiBcImpzb25cIixcbiAgICAgICAgICAgIHVybCAgICAgICAgIDogJ2RhdGEvZGF0YS5qc29uJyAsXG4gICAgICAgICAgICBzdWNjZXNzICAgICA6IChyZXNwb25zZSkgPT4ge1xuXG4gICAgICAgICAgICBcdERhdGFNYW5hZ2VyLmRhdGEgPSByZXNwb25zZTtcblxuICAgICAgICAgICAgXHQkKHdpbmRvdykudHJpZ2dlcignZGF0YV9sb2FkZWQnKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yICAgICAgIDogKGVycikgPT4geyBjb25zb2xlLmVycm9yKFwiRGF0YSBlcnJvcjogXCIsIGVycik7IH1cbiAgICAgICAgfSk7XG5cblx0fVxuXG4gICAgc3RhdGljIGdldE5hdkRhdGEgKCkge1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIERhdGFNYW5hZ2VyLmRhdGEubmF2O1xuICAgIH1cblxuXHRzdGF0aWMgZ2V0UGljICggaXRlbUlEICkge1xuXG5cdFx0Y29uc29sZS5sb2coJ0RhdGFNYW5hZ2VyIDo6IGdldCBQaWMgOjogJyxEYXRhTWFuYWdlci5kYXRhLnBpY3NbaXRlbUlEXSk7XG5cblx0XHRyZXR1cm4gRGF0YU1hbmFnZXIuZGF0YS5waWNzW2l0ZW1JRF07XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YU1hbmFnZXI7IiwiXG5cbmNsYXNzIENvbnRlbnQge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdGNvbnNvbGUubG9nKCdDb250ZW50Jyk7XG5cblx0XHR0aGlzLnZpZXcgPSAkKCdzZWN0aW9uLmNvbnRlbnQnKTtcblxuXHRcdCQod2luZG93KS5vbignZGlzcGxheV9uZXdfY29udGVudCcsIHRoaXMub25EaXNwbGF5TmV3Q29udGVudC5iaW5kKHRoaXMpICk7XG5cdH1cblxuXHRvbkRpc3BsYXlOZXdDb250ZW50KGV2ZW50LCBwaWNVcmwpIHtcblxuXHRcdGNvbnNvbGUubG9nKCdDb250ZW50IDo6IERpc3BsYXkgbmV3IGNvbnRlbnQgJyk7XG5cblx0XHR0aGlzLnZpZXdbMF0uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnK3BpY1VybCsnKSc7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udGVudDsiLCJpbXBvcnQgTmF2SXRlbSBmcm9tICcuL05hdkl0ZW0nO1xuXG5jbGFzcyBOYXYge1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0dGhpcy52aWV3ID0gJCgnbmF2Jyk7XG5cdFx0XG5cdH1cblxuXHRidWlsZCggbmF2RGF0YSApIHtcblxuXHRcdCQuZWFjaCggbmF2RGF0YSwgKGksZGF0YSk9PntcblxuXHRcdFx0bGV0IGl0ZW0gPSBuZXcgTmF2SXRlbSggdGhpcy52aWV3LCBkYXRhLCBpKTtcblxuXHRcdH0pO1xuXG5cblx0XHRsZXQgbmF2SXRlbXMgPSB0aGlzLnZpZXcuZmluZCgnLm5hdi1pdGVtJyk7XG5cblx0XHRuYXZJdGVtcy5vbignY2xpY2snLCB0aGlzLm9uQ2xpY2tOYXZJdGVtLmJpbmQodGhpcykgKTtcblxuXHR9XG5cblx0b25DbGlja05hdkl0ZW0gKCBldmVudCApIHtcblxuXHRcdGNvbnN0IHRhcmdldElEID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuXG5cdFx0Y29uc29sZS5sb2coJy0tLS0nKTtcblx0XHRjb25zb2xlLmxvZygnTmF2IDo6IENsaWNrIG9uIGl0ZW0gIycsIHRhcmdldElEKTtcblxuXHRcdCQod2luZG93KS50cmlnZ2VyKCduZXdfY29udGVudF9yZXF1ZXN0JywgdGFyZ2V0SUQgKTtcblxuXHR9XG5cdFxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE5hdjsiLCJjbGFzcyBOYXZJdGVtIHtcblxuXHRjb25zdHJ1Y3RvciAoIHBhcmVudFZpZXcsIGRhdGEsIGlkICkge1xuXG5cdFx0cGFyZW50Vmlldy5maW5kKCd1bCcpLmFwcGVuZCgnPGxpIGNsYXNzPVwibmF2LWl0ZW0gbicraWQrJ1wiIGRhdGEtaWQ9XCInK2lkKydcIj4nKyBkYXRhLmxhYmVsICsnPC9saT4nKTtcblxuXHRcdHRoaXMudmlldyA9IHBhcmVudFZpZXcuZmluZCgndWwgLm5hdi1pdGVtLm4nK2lkKTtcblxuXHRcdHRoaXMudmlldy5vbignbW91c2VvdmVyJywgdGhpcy5vbk1vdXNlT3Zlci5iaW5kKHRoaXMpICk7XG5cdFx0dGhpcy52aWV3Lm9uKCdtb3VzZW91dCcsIHRoaXMub25Nb3VzZU91dC5iaW5kKHRoaXMpICk7XG5cdH1cblxuXHRvbk1vdXNlT3ZlciAoKSB7XG5cblx0XHR0aGlzLnZpZXdbMF0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcblxuXHR9XG5cblx0b25Nb3VzZU91dCAoKSB7XG5cdFx0dGhpcy52aWV3WzBdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIjtcblx0fVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE5hdkl0ZW07Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
